<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Klick8 - Digital Menu</title>
</head>
<body>

  <header>
    
    <h1>Café 8Bites</h1>
    <!-- Category Tabs -->
<nav class="category-tabs">
  <button class="tab-btn active" data-category="all">All</button>
  <button class="tab-btn" data-category="starters">Starters</button>
  <button class="tab-btn" data-category="main">Main Course</button>
  <button class="tab-btn" data-category="beverages">Beverages</button>
</nav>

  </header>

  <section class="category starters">
  <h2>Starters</h2>
  <div class="menu-item">
    <span class="name">Veg Spring Rolls</span>
    <span class="price">₹120</span>
    <button class="add-btn">Add</button>
  </div>
  <div class="menu-item">
    <span class="name">Paneer Tikka</span>
    <span class="price">₹180</span>
    <button class="add-btn">Add</button>
  </div>
</section>


<section class="category main">
  <h2>Main Course</h2>
  <div class="menu-item">
    <span class="name">Butter Paneer</span>
    <span class="price">₹220</span>
    <button class="add-btn">Add</button>
  </div>
  <div class="menu-item">
    <span class="name">Dal Makhani</span>
    <span class="price">₹160</span>
    <button class="add-btn">Add</button>
  </div>
</section>

<section class="category beverages">
  <h2>Beverages</h2>
  <div class="menu-item">
    <span class="name">Lemon Soda</span>
    <span class="price">₹50</span>
    <button class="add-btn">Add</button>
  </div>
  <div class="menu-item">
    <span class="name">Cold Coffee</span>
    <span class="price">₹90</span>
    <button class="add-btn">Add</button>
  </div>
</section>


  <section class="category">
    <h2>Beverages</h2>
    <div class="menu-item">
      <span class="name">Lemon Soda</span>
      <span class="price">₹50</span>
      <button class="add-btn">Add</button>
    </div>
    <div class="menu-item">
      <span class="name">Cold Coffee</span>
      <span class="price">₹90</span>
      <button class="add-btn">Add</button>
    </div>
  </section>

<script>
  const buttons = document.querySelectorAll(".tab-btn");
  const categories = document.querySelectorAll(".category");

  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      // Remove active class
      buttons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      const category = btn.getAttribute("data-category");

      categories.forEach(section => {
        if (category === "all" || section.classList.contains(category)) {
          section.style.display = "block";
        } else {
          section.style.display = "none";
        }
      });
    });
  });
</script>
<script>
  let cartItems = [];
let cartCount = 0;
let cartTotal = 0;


  document.querySelectorAll(".add-btn").forEach(button => {
  button.addEventListener("click", () => {
    const itemDiv = button.closest(".menu-item");
    const name = itemDiv.querySelector(".name").textContent;
    const price = parseInt(itemDiv.querySelector(".price").textContent.replace("₹", ""));
    
    // Check if item already in cart
    const existing = cartItems.find(i => i.name === name);
    if (existing) {
      existing.qty++;
    } else {
      cartItems.push({ name, price, qty: 1 });
    }

    cartCount++;
    cartTotal += price;
    updateCart();
    updateFloatingCart(); // floating cart ko update kare
  });
});

function updateCart() {
  document.getElementById("cart-items").textContent = `${cartCount} items`;
  document.getElementById("cart-total").textContent = `₹${cartTotal}`;
  updateFloatingCart(); // floating cart ko bhi update kare
}




  document.getElementById("place-order").addEventListener("click", () => {
  if (cartItems.length > 0) {
    // Save cart data to localStorage
    localStorage.setItem("cartItems", JSON.stringify(cartItems));
    localStorage.setItem("cartTotal", cartTotal);
    window.location.href = "checkout.html";
  } else {
    alert("Your cart is empty!");
  }
});


function getCartItems() {
  let items = [];
  document.querySelectorAll(".menu-item").forEach(item => {
    const name = item.querySelector(".name").textContent;
    const price = parseInt(item.querySelector(".price").textContent.replace("₹", ""));
    const qty = parseInt(item.querySelector(".quantity") ? item.querySelector(".quantity").textContent : "1");
    if (qty > 0) {
      items.push({ name, price, qty });
    }
  });
  return items;
}


</script>

<!-- Overlay -->
<div id="cart-overlay"></div>

<!-- Floating Cart Icon -->
<div id="cart-icon">
  <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" fill="white" viewBox="0 0 24 24">
    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm0 2h10v-2H7v2zm10-2c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM6.31 4l1.07 5h11.92l.83-4H6.31zM3 2h2l3.6 7.59-1.35 2.45C7.16 13.37 8.02 14 9 14h10v-2H9.42c-.14 0-.25-.11-.25-.25L9.1 11h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1 1 0 0020 2H5.21l-.94-2H0v2z"/>
  </svg>
  <span id="cart-count">0</span>
</div>


<!-- Side Cart Panel -->
<div id="cart-panel">
  <div class="cart-header">
    <h3>Your Cart</h3>
    <button id="close-cart">✖</button>
  </div>
  <div id="cart-items"></div>
  <p class="cart-total">Total: ₹<span id="cart-total">0</span></p>
  <button id="checkout-btn">Checkout</button>
</div>


<script>
  document.getElementById("cart-icon").addEventListener("click", function() {
  document.getElementById("cart-panel").classList.add("show");
});

document.getElementById("close-cart").addEventListener("click", function() {
  document.getElementById("cart-panel").classList.remove("show");
});

  </script>

<script>
  const cartIcon = document.getElementById("cart-icon");
const cartPanel = document.getElementById("cart-panel");
const closeCart = document.getElementById("close-cart");
const cartOverlay = document.getElementById("cart-overlay");

function openCart() {
  cartPanel.classList.add("show");
  cartOverlay.classList.add("show");
}

function closeCartPanel() {
  cartPanel.classList.remove("show");
  cartOverlay.classList.remove("show");
}

cartIcon.addEventListener("click", openCart);
closeCart.addEventListener("click", closeCartPanel);
cartOverlay.addEventListener("click", closeCartPanel);
</script>

<script>
function updateFloatingCart() {
  let cartCount = cartItems.reduce((sum, item) => sum + item.qty, 0);
  document.getElementById("cart-count").textContent = cartCount;

  let cartItemsHTML = "";
  let total = 0;

  cartItems.forEach(item => {
    total += item.price * item.qty;
    cartItemsHTML += `
      <div style="display:flex;justify-content:space-between;margin-bottom:8px;">
        <span>${item.name} x${item.qty}</span>
        <span>₹${item.price * item.qty}</span>
      </div>
    `;
  });

  document.querySelector("#cart-panel #cart-items").innerHTML = cartItemsHTML || "<p>Your cart is empty.</p>";
  document.querySelector("#cart-panel #cart-total").textContent = total;
}

</script>
<script>
  document.getElementById("checkout-btn").addEventListener("click", () => {
  if (cartItems.length > 0) {
    localStorage.setItem("cartItems", JSON.stringify(cartItems));
    localStorage.setItem("cartTotal", cartTotal);
    window.location.href = "checkout.html";
  } else {
    alert("Your cart is empty!");
  }
});

</script>
<script>
  // Make cart icon draggable
const cartIconEl = document.getElementById("cart-icon");

let isDragging = false;
let offsetX, offsetY;

cartIconEl.addEventListener("mousedown", startDrag);
cartIconEl.addEventListener("touchstart", startDrag);

function startDrag(e) {
  isDragging = true;
  const rect = cartIconEl.getBoundingClientRect();
  offsetX = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
  offsetY = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;

  document.addEventListener("mousemove", drag);
  document.addEventListener("touchmove", drag);
  document.addEventListener("mouseup", stopDrag);
  document.addEventListener("touchend", stopDrag);
}

function drag(e) {
  if (!isDragging) return;
  const clientX = e.touches ? e.touches[0].clientX : e.clientX;
  const clientY = e.touches ? e.touches[0].clientY : e.clientY;
  
  cartIconEl.style.left = clientX - offsetX + "px";
  cartIconEl.style.top = clientY - offsetY + "px";
  cartIconEl.style.right = "auto"; // Disable fixed right
  cartIconEl.style.bottom = "auto"; // Disable fixed bottom
  cartIconEl.style.position = "fixed";
}

function stopDrag() {
  isDragging = false;
  document.removeEventListener("mousemove", drag);
  document.removeEventListener("touchmove", drag);
  document.removeEventListener("mouseup", stopDrag);
  document.removeEventListener("touchend", stopDrag);
}

</script>




</body>
</html>
